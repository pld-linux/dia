diff -ur dia-0.97.2.orig//objects/custom/shape_typeinfo.c dia-0.97.2/objects/custom/shape_typeinfo.c
--- dia-0.97.2.orig//objects/custom/shape_typeinfo.c	2009-11-07 14:28:34.000000000 +0000
+++ dia-0.97.2/objects/custom/shape_typeinfo.c	2012-10-18 08:46:23.491696996 +0000
@@ -27,8 +27,7 @@
 #include "custom_util.h"
 #include <string.h>
 #include <stdarg.h>
-#include <glib/gstrfuncs.h>
-#include <glib/gstdio.h>
+#include <glib.h>
 #include <libxml/parser.h>
 
 /*
diff -ur dia-0.97.2.orig//tests/test-boundingbox.c dia-0.97.2/tests/test-boundingbox.c
--- dia-0.97.2.orig//tests/test-boundingbox.c	2009-11-07 14:28:35.000000000 +0000
+++ dia-0.97.2/tests/test-boundingbox.c	2012-10-18 08:46:47.645634337 +0000
@@ -28,9 +28,6 @@
 #include <glib.h>
 #include <glib-object.h>
 
-#if GLIB_CHECK_VERSION(2,16,0)
-#include <glib/gtestutils.h>
-#endif
 #include "dialib.h"
 
 /*
diff -ur dia-0.97.2.orig//tests/test-objects.c dia-0.97.2/tests/test-objects.c
--- dia-0.97.2.orig//tests/test-objects.c	2009-11-07 14:28:35.000000000 +0000
+++ dia-0.97.2/tests/test-objects.c	2012-10-18 08:46:55.477634719 +0000
@@ -28,10 +28,6 @@
 #include <glib.h>
 #include <glib-object.h>
 
-#if GLIB_CHECK_VERSION(2,16,0)
-#include <glib/gtestutils.h>
-#endif
-
 #include "object.h"
 #include "plug-ins.h"
 #include "dialib.h"
